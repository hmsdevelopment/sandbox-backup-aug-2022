/**
 * @NApiVersion 2.0
 * @NScriptType ScheduledScript
 * @NModuleScope SameAccount
 * @author Midware
 * @Website www.midware.net
 * @Developer Esteban G. Damazio
 * @contact contact@midware.net
 */
define(["require", "exports", "N/log", "N/runtime", "N/file", "N/task"], function (require, exports, log, runtime, file, task) {
    Object.defineProperty(exports, "__esModule", { value: true });
    function execute(pContext) {
        setFilesAsAvailable();
    }
    exports.execute = execute;
    function setFilesAsAvailable() {
        var filesIds = [47, 48, 2507, 2959, 3705, 3706, 3708, 7283, 7699, 7812, 9330, 9331, 12046, 12423, 13212, 15426, 15428, 16305, 16530, 16531, 17680, 17778, 19382, 19562, 20063, 21849, 22752, 22788, 22789, 25399, 26467, 27032, 27320,
            29899, 29916, 30061, 30504, 30507, 31650, 31751, 32107, 32404, 32548, 32679, 33242, 33878, 34221, 34565, 34698, 35536, 35552, 35562, 35563, 35565, 35966, 36449, 36452, 36453, 36469, 36871, 37071, 37171, 37477, 37585, 37709, 37775,
            38061, 38198, 38298, 38525, 38575, 38585, 38853, 38939, 38940, 39292, 39294, 39366, 39430, 39432, 39813, 39964, 40171, 40491, 40516, 40634, 40766, 40988, 41031, 41077, 41148, 41159, 41272, 41482, 41522, 41648, 41893, 42994, 43043,
            43101, 43311, 43313, 43439, 43441, 43552, 43652, 43685, 43708, 43831, 43852, 43984, 43985, 44272, 44289, 44370, 44426, 44693, 44882, 45183, 45184, 45222, 45223, 45354, 45457, 45849, 45879, 45881, 45926, 45991, 46122, 46125, 46145,
            46217, 46708, 46816, 46877, 46892, 47051, 47073, 47103, 47193, 47412, 47677, 47787, 48019, 48030, 48173, 48365, 48386, 48434, 48475, 48524, 48525, 48527, 48528, 48554, 48598, 48608, 48610, 48877, 49057, 49081, 49086, 49128, 49182,
            49183, 49195, 49211, 49222, 49347, 49348, 49373, 49429, 49492, 49560, 49738, 49746, 49913, 50120, 50127, 50144, 50146, 50148, 50150, 50151, 50152, 50154, 50257, 50258, 50380, 50758, 50778, 50878, 51149, 51150, 51165, 51225, 51226,
            51260, 51339, 51341, 51342, 51434, 51446, 51463, 51510, 51513, 52098, 52397, 52398, 52683, 52751, 52890, 52919, 53308, 53336, 53401, 53471, 53507, 53520, 53526, 53535, 53560, 53565, 53572, 53694, 53755, 53881, 53947, 53948, 54012,
            54039, 54042, 54083, 54094, 54110, 54680, 54683, 54684, 54685, 54904, 54936, 55169, 55171, 55202, 55204, 55268, 55380, 55382, 55383, 55384, 55391, 55392, 55393, 55395, 55427, 55436, 55437, 55458, 55477, 55478, 55487, 55488, 55553,
            55620, 55918, 56073, 56074, 56075, 56077, 56124, 56172, 56223, 56501, 56502, 56503, 56506, 56525, 56638, 56639, 56755, 56989, 57008, 57020, 57021, 57025, 57026, 57147, 57175, 57290, 57291, 57636, 57643, 57679, 57686, 58036, 58039,
            58055, 58248, 58291, 58333, 58346, 58499, 58506, 58697, 58771, 58777, 58843, 58847, 58848, 58901, 58925, 58939, 59130, 59194, 59497, 59498, 59499, 59500, 59512, 59752, 60296, 60302, 60422, 60455, 60456, 60469, 60551, 60553, 60879,
            60880, 60882, 60996, 61097, 61111, 61119, 61124, 61223, 61285, 61324, 61330, 61333, 61554, 61597, 61601, 61619, 61675, 61676, 61694, 61695, 61753, 61759, 61764, 61795, 61809, 61831, 61862, 61863, 61886, 61898, 61913, 61933, 61954,
            61959, 61960, 61983, 62020, 62174, 62189, 62193, 62213, 62227, 62282, 62290, 62312, 62379, 62413, 62415, 62416, 62427, 62440, 62447, 62450, 62464, 62465, 62477, 62485, 62541, 62542, 62562, 62567, 62568, 62573, 62581, 62587, 62589,
            62618, 62697, 62703, 62821, 62926, 62927, 62928, 63337, 63338, 63587, 63590, 63605, 63637, 63708, 63750, 63794, 63795, 63796, 63824, 63834, 63850, 63851, 63854, 63860, 63902, 63944, 64126, 64151, 64188, 64594, 64609, 64610, 64611,
            64622, 64623, 65174, 65275, 65402, 65428, 65429, 65431, 65432, 65455, 65456, 65482, 65500, 65510, 65518, 65629, 65637, 65638, 65648, 65656, 65658, 65659, 65661, 65663, 65664, 65674, 65679, 65680, 65681, 65684, 65685, 65686, 65689,
            65690, 65691, 65697, 65708, 65718, 65728, 65733, 65738, 65739, 65740, 65741, 65748, 65854, 65857, 65859, 65862, 65863, 65864, 65866, 65868, 65877, 65878, 65879, 65880, 65881, 65885, 65890, 65894, 66000, 66001, 66103, 66206, 66207,
            66216, 66218, 66219, 66221, 66223, 66325, 66632, 66636, 66939, 66940, 67048, 67050, 67052, 67053, 67054, 67056, 67057, 67058, 67061, 67062, 67065, 67067, 67068, 67174, 67178, 67182, 67186, 67391, 67392, 67393, 67397, 67401, 67402,
            67506, 67609, 67821, 67822, 67823, 67825, 67830, 67839, 67841, 67842, 67843, 67943, 68043, 68047, 68052, 68061, 68077, 68078, 68081, 68082, 68195, 68202, 68204, 68205, 68206, 68210, 68211, 68212, 68218, 68223, 68230, 68231, 68232,
            68233, 68234, 68335, 68356, 68380, 68381, 68485, 68593, 68598, 68830, 68832, 68943, 69056, 69057, 69058, 69059, 69060, 69061, 69063, 69065, 69068, 69072, 69076, 69077, 69184, 69197, 69198, 69199, 69202, 69203, 69206, 69213, 69318,
            69533, 69534, 69535, 69648, 69649, 69652, 69655, 69656, 69665, 69692, 69694, 69696, 69697, 69700, 69701, 69702, 69703, 69707, 69708, 69817, 69818, 69819, 69826, 69827, 69828, 69832, 69842, 69848, 69849, 69856, 69869, 69874, 69886, 69887, 69891, 69892, 69893, 69901, 69905, 69909, 69910, 69919, 69920, 69922, 69923, 69924, 70035, 70037, 70038, 70248, 70353, 70354, 70355, 70357, 70358, 70359, 70360,
            70361, 70362, 70366, 70367, 70368, 70369, 70370, 70372, 70373, 70374, 70375, 70376, 70377, 70378, 70380, 70382, 70383, 70385, 70387, 70388, 70390, 70391, 70392, 70393, 70394, 70397, 70398, 70403, 70404, 70409, 70410, 70411, 70412, 70413, 70414, 70415, 70416, 70420, 70421, 70424, 70427, 70428, 70429, 70430, 70437, 70544, 70559, 70561, 70568, 70592, 70594, 70700, 70703, 70831, 70833, 70847, 70852,
            70855, 70858, 70860, 70861, 70863, 70865, 70866, 70867, 70868, 70878, 70996, 71001, 71002, 71003, 71004, 71009, 71011, 71013, 71014, 71019, 71020, 71022, 71023, 71025, 71028, 71030, 71031, 71032, 71033, 71255, 71256, 71257, 71258, 71260, 71371, 71385, 71388, 71389, 71390, 71397, 71398, 71399, 71405, 71519, 71524, 71527, 71528, 71532, 71533, 71536, 71547, 71551, 71552, 71555, 71558, 71560, 71561,
            71562, 71576, 71687, 71690, 71698, 71707, 71710, 71713, 71714, 71732, 71844, 71851, 71852, 71853, 71854, 71856, 71858, 71859, 71862, 71863, 71865, 71868, 71869, 71873, 71877, 71889, 71891, 71892, 72005, 72113, 72114, 72115, 72264, 72267, 72268, 72269, 72270, 72285, 72383, 72384, 72385, 72403, 72405, 72407, 72510, 72732, 72739, 72746, 72750, 72777, 72899, 73136, 73142, 73158, 73461, 73466, 73487,
            73490, 73502, 73505, 73631, 73850, 73852, 73968, 73970, 73971, 73976, 73978, 73980, 73988, 73992, 73994, 73995, 74102, 74103, 74104, 74105, 74106, 74111, 74112, 74114, 74118, 74119, 74120, 74239, 74240, 74241, 74243, 74244, 74245, 74246, 74247, 74351, 74353, 74354, 74355, 74356, 74358, 74361, 74362, 74364, 74382, 74395, 74597, 74612, 74632, 74634, 74638, 74639, 74646, 74648, 74651, 74754, 74758,
            74760, 74866, 74883, 74887, 74889, 74890, 74893, 74904, 74908, 75028, 75137, 75138, 75244, 75245, 75252, 75258, 75263, 75270, 75273, 75274, 75282, 75283, 75399, 75400, 75417, 75419, 75425, 75526, 75528, 75536, 75543, 75944, 75945, 75947, 75948, 75949, 75951, 75952, 75954, 75957, 75972, 75975, 76281, 76287, 76408, 76614, 76615, 76616, 76618, 76621, 76836, 76838, 77050, 77051, 77163, 77381, 77487,
            77500, 77811, 77915, 77933, 78269, 78270, 78379, 78383, 78386, 78389, 78390, 78392, 78496, 78498, 78499, 78500, 78616, 78617, 78726, 78728, 78729, 78731, 78733, 78734, 78740, 78741, 78743, 78747, 78748, 78750, 78752, 78861, 78964, 79071, 79074, 79081, 79082, 79186, 79195, 79209, 79211, 79215, 79220, 79221, 79224, 79333, 79337, 79448, 79459, 79849, 80055, 80062, 80076, 80200, 80203, 80308, 80312,
            80417, 80420, 80421, 80424, 80430, 80439, 80444, 80449, 80561, 80562, 80567, 80572, 80679, 80680, 80681, 80682, 80683, 80690, 81008, 81009, 81011, 81012, 81941, 81945, 81949, 81952, 82055, 82066, 82068, 82069, 82071, 82282, 82285, 82291, 82295, 82505, 82506, 82507, 82508, 82509, 82510, 82511, 82519, 82520, 82522, 82524, 82528, 82531, 82535, 82537, 82539, 82540, 82650, 82651, 82652, 82760, 82761,
            82762, 82866, 82867, 82868, 82870, 82872, 82873, 82874, 82875, 82877, 82878, 82879, 82883, 82885, 82886, 82991, 83215, 83216, 83217, 83218, 83220, 83221, 83222, 83224, 83225, 83226, 83229, 83231, 83232, 83233, 83235, 83236, 83237, 83239, 83244, 83249, 83250, 83251, 83252, 83253, 83357, 83360, 83361, 83362, 83370, 83480, 83482, 83593, 83594, 83595, 83596, 83597, 83599, 83601, 83603, 83605, 83707,
            83708, 83710, 83714, 83720, 83721, 83722, 83723, 83727, 83728, 83732, 83735, 83736, 83737, 83843, 83844, 83845, 83848, 83849, 83850, 83851, 83854, 83855, 83856, 83857, 83963, 84064, 84065, 84066, 84170, 84174, 84175, 84177, 84180, 84181, 84182, 84184, 84185, 84186, 84190, 84191, 84192, 84193, 84194, 84195, 84196, 84197, 84303, 84309, 84310, 84311, 84312, 84313, 84315, 84316, 84317, 84320, 84323,
            84326, 84327, 84332, 84435, 84537, 84538, 84539, 84540, 84541, 84542, 84544, 84545, 84546, 84547, 84548, 84549, 84651, 84652, 84653, 84654, 84655, 84656, 84658, 84659, 84660, 84661, 84664, 84766, 84767, 84768, 84769, 84770, 84875, 84876, 84877, 84878, 84879, 84880, 84881, 84882, 84885, 84886, 84887, 84888, 84889, 84890, 84891, 84993, 84994, 84995, 84998, 84999, 85000, 85002, 85216, 85323, 85328,
            85330, 85331, 85333, 85337, 85339, 85340, 85451, 85866, 85867, 85869, 85871, 85875, 85878, 85881, 85882, 85886, 85887, 85888, 85994, 85995, 85996, 85997, 85999, 86001, 86006, 86007, 86009, 86113, 86121, 86131, 86132, 86133, 86242, 86243, 86244, 86245, 86246, 86469, 86478, 86487, 86705, 86706, 86707, 86713, 86820, 86821, 86823, 86928, 86929, 86930, 86935, 87149, 87150, 87318, 87320, 87457, 87459,
            87460, 87465, 87468, 87682, 87683, 87786, 87793, 87806, 88002, 88006, 88013, 88123, 88125, 88129, 88131, 88243, 88248, 88449, 88554, 88763, 88764, 88865, 88966, 89071, 89192, 89198, 89210, 89218, 89334, 89346, 89449, 89450, 89453, 89457, 89458, 89461, 89462, 89465, 89569, 89570, 89583, 89590, 90298, 90299, 90300, 90317, 90318, 90319, 90321, 90322, 90324, 90325, 90330, 90437, 90538, 90542, 90544,
            90548, 90549, 90653, 90655, 90660, 90662, 90773, 90776, 90881, 90884, 90994, 91101, 91107, 91215, 91231, 91436, 91439, 91449, 91451, 91454, 91455, 91456, 91457, 91458, 91459, 91460, 91461, 91462, 91466, 91686, 91793, 91795, 91801, 91809, 91909, 91911, 91912, 91913, 92022, 92026, 92133, 92142, 92258, 92597, 92828, 92829, 92944, 93049, 93050, 93054, 93156, 93159, 93160, 93263, 93264, 93265, 93269,
            93270, 93271, 93272, 93278, 93394, 93399, 93400, 93401, 93402, 93403, 93404, 93405, 93406, 93407, 93410, 93421, 93529, 93636, 93758, 93759, 93760, 93761, 93763, 93867, 93871, 93973, 93976, 94178, 94181, 94182, 94183, 94184, 94295, 94404, 94405, 94406, 94407, 94408, 94411, 94414, 94415, 94741, 94742, 94847, 94850, 94975, 94977, 94978, 95087, 95089, 95090, 95092, 95199, 95200, 95412, 95413, 95414,
            95417, 95418, 95419, 95420, 95844, 95846, 96375, 96377, 96380, 96381, 96391, 96598, 96599, 96600, 96601, 96602, 96603, 96605, 96606, 96607, 96609, 96610, 96712, 97133, 97238, 97350, 97480, 97481, 97603, 97604, 97607, 97609, 97610, 97615, 97617, 97618, 97622, 97623, 97624, 97630, 97632, 97633, 97635, 97641, 97849, 98178, 98179, 98182, 98183, 98184, 98289, 98290, 98291, 98292, 98293, 98297, 98299,
            98403, 98621, 98849, 99198, 99199, 99305, 99306, 99409, 99412, 99549, 99550, 99565, 99777, 99778, 99780, 99781, 99895, 99898, 99999, 100000, 100208, 100211, 100515, 100516, 100518, 100519, 100534, 100535, 100569, 100584, 100585, 100588, 100589, 100695, 100699, 100914, 101125, 101431, 101433, 101901, 102336, 102344, 102665, 102666];
        var currentIndex = Number(runtime.getCurrentScript().getParameter({ name: "custscript_mw_current_index" }));
        log.debug('Starting Execution...', "currentIndex : " + currentIndex);
        for (var i = 0; currentIndex < filesIds.length; i++) {
            if (runtime.getCurrentScript().getRemainingUsage() > 100) {
                try {
                    var currentFile = file.load({ id: filesIds[currentIndex] });
                    currentFile.isOnline = true;
                    currentFile.save();
                    log.audit('File Made Available without login', "fileName : " + currentFile.name + ", fileId : " + filesIds[currentIndex]);
                }
                catch (error) {
                    log.error('ERROR', JSON.stringify(error));
                }
            }
            else {
                log.debug("Not Execution Units", "Scheduled for another iteration in making files available without login");
                task.create({
                    taskType: task.TaskType.SCHEDULED_SCRIPT,
                    scriptId: runtime.getCurrentScript().id,
                    deploymentId: runtime.getCurrentScript().deploymentId,
                    params: {
                        "custscript_mw_current_index": currentIndex,
                    }
                }).submit();
                return;
            }
            currentIndex++;
        }
    }
});
